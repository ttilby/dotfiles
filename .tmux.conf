# tmux configuration file

# easy tmux reload
bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"

# set mouse mode to allow use of mouse for copying, scrolling, etc.
set -g mouse on
set -g default-terminal "screen-256color"
set -g base-index 1
set -g pane-base-index 1

# needed for vim-gitgutter to update properly
set -g focus-events

#--------------------------------------------------------------#
# Pane colors
# set active/inactive window styles
set -g window-style 'fg=colour247,bg=colour236'
set -g window-active-style 'fg=colour250'
#--------------------------------------------------------------#

# Status bar
set -g status-interval 2
set -g status-left '#[fg=green]#(tmux-mem-cpu-load --colors --powerline-right --interval 2)#[default]'
set -g status-right 'Continuum status: #{continuum_status}'

# Session Management
set -g @continuum-save-interval '15'

# vi keybindings

#--------------------------------------------------------------#
# copy / paste with system clipboard
# *** WIP ***
#--------------------------------------------------------------#

# macos: brew install reattach-to-user-namespace
# copy
#if-shell 'uname | grep -qi Darwin && which reattach-to-user-namespace > /dev/null' 'bind-key -n -t emacs-copy M-w copy-pipe "reattach-to-user-namespace pbcopy"'
# paste
#if-shell 'uname | grep -qi Darwin && which reattach-to-user-namespace > /dev/null' 'bind 

# linux: sudo apt install xclip
# copy
#if-shell 'uname | grep -qi Linux && which xclip > /dev/null' 'bind-key -n -t emacs-copy M-w copy-pipe "xclip -i -sel p -f | xclip -i -sel c "'
# paste:
#if-shell 'uname | grep -qi Linux && which xclip > /dev/null' 'bind-key -n C-y run "xclip -o

#--------------------------------------------------------------#
# Plugins (using tpm)
#  After adding a new plugin, press <prefix>+I to fetch the plugin
#  (all are installed to ~/.tmux/plugins/)
#  Use <prefix>+U to update plugins
# List of plugins
#set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'thewtex/tmux-mem-cpu-load'

# Initialize TMUX plugin manager (keep this line at the very bottom of
# .tmux.conf
# run -b  '~/.tmux/plugins/tpm/tpm'
run-shell ~/.tmux/plugins/resurrect/resurrect.tmux
run-shell ~/.tmux/plugins/continuum/continuum.tmux

